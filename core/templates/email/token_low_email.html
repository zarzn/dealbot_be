{% extends "base_email.html" %}

{% block content %}
<div style="text-align: center;">
    <h2>Low Token Balance Alert</h2>
    <p style="font-size: 18px; color: #333;">{{ message }}</p>
    
    {% if data %}
    <div style="background-color: #f8f9fa; padding: 20px; border-radius: 4px; margin: 20px 0;">
        {% if data.current_balance %}
        <div style="margin-bottom: 20px;">
            <h3 style="color: #dc3545; margin-bottom: 10px;">Current Balance</h3>
            <p style="font-size: 24px; font-weight: bold; color: #333;">
                {{ "%.2f"|format(data.current_balance) }} Tokens
            </p>
        </div>
        {% endif %}
        
        {% if data.minimum_required %}
        <div style="margin-bottom: 20px;">
            <h4 style="color: #666;">Minimum Required Balance</h4>
            <p style="font-size: 18px; color: #333;">
                {{ "%.2f"|format(data.minimum_required) }} Tokens
            </p>
        </div>
        {% endif %}
        
        {% if data.usage_stats %}
        <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #eee;">
            <h4 style="color: #333;">Recent Usage</h4>
            <p style="color: #666;">
                {{ data.usage_stats }}
            </p>
        </div>
        {% endif %}
    </div>
    {% endif %}
    
    <div style="margin: 30px 0;">
        <h3 style="color: #333; margin-bottom: 15px;">Options to Add Tokens</h3>
        
        {% if data.payment_options %}
        <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
            {% for option in data.payment_options %}
            <div style="background-color: #fff; padding: 15px; border: 1px solid #ddd; border-radius: 4px; min-width: 200px;">
                <h4 style="color: #333; margin: 0 0 10px 0;">{{ option.name }}</h4>
                <p style="color: #28a745; font-size: 20px; font-weight: bold;">
                    ${{ "%.2f"|format(option.price) }}
                </p>
                <p style="color: #666; font-size: 14px;">
                    {{ option.tokens }} Tokens
                </p>
                <a href="{{ option.purchase_url }}" class="button" style="margin-top: 10px;">
                    Purchase
                </a>
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    
    {% if action_url %}
    <a href="{{ action_url }}" class="button">
        Manage Token Balance
    </a>
    {% endif %}
    
    <p style="color: #666; font-size: 14px; margin-top: 20px;">
        Maintaining a sufficient token balance ensures uninterrupted access to all features.
    </p>
</div>
{% endblock %} 